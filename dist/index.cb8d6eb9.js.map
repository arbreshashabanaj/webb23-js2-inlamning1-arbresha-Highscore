{"mappings":"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","sources":["src/modules/main.js"],"sourcesContent":["var you;\r\nvar yourScore = 0;\r\nvar opponent;\r\nvar opponentScore = 0;\r\nvar opponentChoiceText = \"\";\r\nvar playerName = \"\";\r\nvar opponentName = \"Dator\";\r\nvar playerScore = 0;\r\nvar choices = [\"rock\", \"paper\", \"scissors\"];\r\nconst playerName_span = document.getElementById('playerList');\r\n\r\nfunction updatePlayerList() {\r\n  playerName_span.textContent = `Spelare: ${playerName} | Poäng: ${playerScore}`;\r\n}\r\n\r\nfunction fetchHighscores() {\r\n  fetch('http://localhost:3000/api/highscores')\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      console.log(data); \r\n      displayHighscores(data);\r\n    })\r\n    .catch((error) => {\r\n      console.error('Något gick fel vid hämtning av highscore-data: ' + error);\r\n    });\r\n}\r\n\r\nfunction displayHighscores(highscores) {\r\n  const highscoreList = document.getElementById(\"highscore-list\");\r\n  highscoreList.innerHTML = \"\";\r\n\r\n  for (let i = 0; i < highscores.length; i++) {\r\n    const listItem = document.createElement(\"li\");\r\n    listItem.textContent = `${highscores[i].name}: ${highscores[i].score}`;\r\n    highscoreList.appendChild(listItem);\r\n  }\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  console.log('DOMContentLoaded event triggered');\r\n  console.log('Min kod körs');\r\n\r\n  const choices = [\"rock\", \"paper\", \"scissors\"];\r\n  for (let i = 0; i < choices.length; i++) {\r\n    let choice = document.createElement(\"img\");\r\n    choice.id = choices[i];\r\n    choice.src = `/modules/${choices[i]}.png`;\r\n    choice.addEventListener(\"click\", selectChoice);\r\n    document.getElementById(\"choices\").append(choice);\r\n  }\r\n\r\n  document.getElementById(\"play-button\").addEventListener(\"click\", function () {\r\n    console.log('Spela-knappen klickad');\r\n    startGame();\r\n  });\r\n\r\n  fetchHighscores();\r\n});\r\n\r\nfunction selectChoice() {\r\n  you = this.id;\r\n  console.log('Spelaren valde: ' + you);\r\n  document.getElementById(\"your-choice\").src = `/modules/${you}.png`;\r\n\r\n  opponent = choices[Math.floor(Math.random() * 3)];\r\n  document.getElementById(\"opponent-choice\").src = `/modules/${opponent}.png`;\r\n\r\n  setTimeout(function () {\r\n    document.getElementById(\"opponent-choice-text\").innerText = `Dator valde: ${opponent}`;\r\n  }, 1000);\r\n\r\n  if (you == opponent) {\r\n    // Tie logic here if needed\r\n  } else {\r\n    if (you == \"rock\") {\r\n      if (opponent == \"scissors\") {\r\n        yourScore += 1;\r\n      } else if (opponent == \"paper\") {\r\n        opponentScore += 1;\r\n        opponentChoiceText = \"påse\";\r\n        if (opponentScore === 1) {\r\n          setTimeout(resetGame, 2000);\r\n        }\r\n      }\r\n    } else if (you == \"scissors\") {\r\n      if (opponent == \"paper\") {\r\n        yourScore += 1;\r\n      } else if (opponent == \"rock\") {\r\n        opponentScore += 1;\r\n        opponentChoiceText = \"sten\";\r\n        if (opponentScore === 1) {\r\n          setTimeout(resetGame, 2000);\r\n        }\r\n      }\r\n    } else if (you == \"paper\") {\r\n      if (opponent == \"rock\") {\r\n        yourScore += 1;\r\n      } else if (opponent == \"scissors\") {\r\n        opponentScore += 1;\r\n        opponentChoiceText = \"sax\";\r\n        if (opponentScore === 1) {\r\n          setTimeout(resetGame, 2000);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const newHighscore = {\r\n    name: playerName,\r\n    score: yourScore,\r\n  };\r\n\r\n  fetch('http://localhost:3000/api/highscores', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(newHighscore),\r\n  })\r\n  .then((response) => {\r\n    if (response.status === 200) {\r\n      console.log('Highscore sparad.');\r\n      fetchHighscores();\r\n    } else {\r\n      console.error('Något gick fel när highscore skulle sparas.');\r\n    }\r\n  })\r\n  .catch((error) => {\r\n    console.error('Något gick fel vid kommunikation med servern: ' + error);\r\n  });\r\n\r\n  document.getElementById(\"your-score\").innerText = yourScore;\r\n}\r\n\r\nfunction setPlayerName() {\r\n  var inputElement = document.getElementById(\"name-input\");\r\n  playerName = inputElement.value;\r\n  console.log('Spelarens namn är satt till: ' + playerName);\r\n  var playerNameDisplay = document.getElementById(\"player-name-display\");\r\n  playerNameDisplay.innerText = \"Spelare: \" + playerName;\r\n  updatePlayerList();\r\n}\r\n\r\nfunction resetGame() {\r\n  yourScore = 0;\r\n  opponentScore = 0;\r\n  opponentChoiceText = \"\";\r\n  console.log('Spelet är återställt');\r\n  document.getElementById(\"your-score\").innerText = yourScore;\r\n  document.getElementById(\"opponent-score\").innerText = opponentScore;\r\n  document.getElementById(\"opponent-choice-text\").innerText = opponentChoiceText;\r\n  document.getElementById(\"your-choice\").src = \"\";\r\n  document.getElementById(\"opponent-choice\").src = \"\";\r\n  updatePlayerList();\r\n}\r\n\r\ndocument.getElementById(\"name-input\").addEventListener(\"keydown\", (event) => {\r\n  if (event.key === \"Enter\") {\r\n    event.preventDefault();\r\n    setPlayerName();\r\n  }\r\n});\r\n"],"names":[],"version":3,"file":"index.cb8d6eb9.js.map","sourceRoot":"/__parcel_source_root/"}